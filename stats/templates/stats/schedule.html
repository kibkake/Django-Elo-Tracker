{% extends "stats/base.html" %}
{% load widget_tweaks %}
{% block content %}

    {% if user.is_authenticated %}
    `<style type="text/css">
        div.filter{
        border-radius: 25px;
        padding: 25px 25px 25px 25px;
        border: 1px solid #000;
        }
        th{
        border-right-width:medium;
        border-right-color:#000;
        border-right-style:groove;
        width: 20%;
        }   
        table{
            border-collapse: collapse;
        }
    </style>
        <div class="row mb-3">
            <div class="col text-left">
                <a href="{% url 'stats-newmatch' %}" class="btn btn-primary">Schedule a Match</a>
            </div>
        </div>
        <form method="get">
            <div class="filter">
                <h5>Filter</h5>
                <div class="row">
                    <div class="form-group col-sm-4 col-md-3">
                        {{ filter.form.game.label_tag }}
                        {% render_field filter.form.game class="form-control" %}
                    </div>
                    
                    <div class="form-group col-sm-4 col-md-3">
                        {{ filter.form.date.label_tag }}
                        {% render_field filter.form.date class="form-control" %}
                    </div>
                </div>
                <button type="submit" class="btn btn-primary"> Search</button>
            </div>
        </form>

        <br><br>
            {% if filter.qs %}
                <table class = "table-bordered">
                    <tr class='header'>
                        <th>Match Up</th>
                        <th>Game</th>
                        <th>Date</th>
                        <th>Start Time</th>
                        <th>End Time</th>
                    </tr>
            {% endif %}
                {% for upcoming in filter.qs %}
                <tr>
                    <td>{{upcoming.player_1}}  VS {{upcoming.player_2}}</td>
                    <td>{{upcoming.game.title}}</td>
                    <td>{{upcoming.date}}</td>
                    <td>{{upcoming.start_time}}</td>
                    <td>{{upcoming.end_time}}</td>
                    <td><a href="{% url 'stats-upcoming' upcoming.id %}" class="btn btn-primary">View</a>
                    </td>
                </tr>
                {% endfor %}
                </table>

    {% else %}
        <div>
            <h1>Welcome to Elo Tracker</h1>
            <p>Login to view schedules</p>
        </div>
    {% endif %}
{% endblock content %}